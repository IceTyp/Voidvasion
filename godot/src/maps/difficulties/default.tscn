[gd_scene load_steps=13 format=3 uid="uid://dhwpbwves76gi"]

[ext_resource type="Script" path="res://src/maps/map.gd" id="1_0h21x"]
[ext_resource type="PackedScene" uid="uid://cu10jyb0dvxau" path="res://src/maps/cursor.tscn" id="2_h0ghx"]
[ext_resource type="Texture2D" uid="uid://clgflfdk1awca" path="res://assets/background/gray.tres" id="2_tpnd3"]
[ext_resource type="Script" path="res://src/maps/orb_placing.gd" id="3_88ljh"]
[ext_resource type="PackedScene" uid="uid://olw5saaxm5rm" path="res://src/orbs/core.tscn" id="4_gr6yd"]
[ext_resource type="PackedScene" uid="uid://ctelatmnjy16n" path="res://src/tiles/arrived_tile.tscn" id="5_kbcn3"]
[ext_resource type="PackedScene" uid="uid://csbl7cdky8pmi" path="res://src/tiles/darkness_tile.tscn" id="6_my2kv"]
[ext_resource type="PackedScene" uid="uid://gu2328w2x2tp" path="res://src/user_interface/game_menu.tscn" id="7_x7jl6"]
[ext_resource type="Script" path="res://src/maps/darkness_controller.gd" id="8_anhii"]
[ext_resource type="AudioStream" uid="uid://phedwbqdln88" path="res://sound/background/darkness.ogg" id="8_eveyf"]

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_cyeso"]
scenes/1/scene = ExtResource("5_kbcn3")
scenes/2/scene = ExtResource("6_my2kv")

[sub_resource type="TileSet" id="TileSet_lfs42"]
tile_size = Vector2i(1, 1)
sources/0 = SubResource("TileSetScenesCollectionSource_cyeso")

[node name="MapTemplate" type="Node2D"]
script = ExtResource("1_0h21x")

[node name="Background" type="Sprite2D" parent="."]
position = Vector2(32, 32)
texture = ExtResource("2_tpnd3")

[node name="Cursor" parent="." instance=ExtResource("2_h0ghx")]

[node name="Orbs" type="Node2D" parent="."]
script = ExtResource("3_88ljh")

[node name="Core" parent="Orbs" instance=ExtResource("4_gr6yd")]
position = Vector2(32, 36)
collision_mask = 1

[node name="TileMap" type="TileMap" parent="."]
tile_set = SubResource("TileSet_lfs42")
cell_quadrant_size = 1
format = 2
layer_0/tile_data = PackedInt32Array(393281, 0, 65536, 4194369, 0, 65536, 458817, 0, 65536, 524353, 0, 65536, 589889, 0, 65536, 655425, 0, 65536, 720961, 0, 65536, 786497, 0, 65536, 852033, 0, 65536, 917569, 0, 65536, 983105, 0, 65536, 1048641, 0, 65536, 1114177, 0, 65536, 1179713, 0, 65536, 1245249, 0, 65536, 1310785, 0, 65536, 1376321, 0, 65536, 1441857, 0, 65536, 1507393, 0, 65536, 1572929, 0, 65536, 1638465, 0, 65536, 1704001, 0, 65536, 1769537, 0, 65536, 1835073, 0, 65536, 1900609, 0, 65536, 1966145, 0, 65536, 2031681, 0, 65536, 2097217, 0, 65536, 2162753, 0, 65536, 2228289, 0, 65536, 2293825, 0, 65536, 2359361, 0, 65536, 2424897, 0, 65536, 2490433, 0, 65536, 2555969, 0, 65536, 2621505, 0, 65536, 2687041, 0, 65536, 2752577, 0, 65536, 2818113, 0, 65536, 2883649, 0, 65536, 2949185, 0, 65536, 3014721, 0, 65536, 3080257, 0, 65536, 3145793, 0, 65536, 3211329, 0, 65536, 3276865, 0, 65536, 3342401, 0, 65536, 3407937, 0, 65536, 3473473, 0, 65536, 3539009, 0, 65536, 3604545, 0, 65536, 3670081, 0, 65536, 3735617, 0, 65536, 3801153, 0, 65536, 3866689, 0, 65536, 3932225, 0, 65536, 3997761, 0, 65536, 4063297, 0, 65536, 4128833, 0, 65536, 458750, 0, 65536, 524286, 0, 65536, 589822, 0, 65536, 655358, 0, 65536, 720894, 0, 65536, 786430, 0, 65536, 851966, 0, 65536, 917502, 0, 65536, 983038, 0, 65536, 1048574, 0, 65536, 1114110, 0, 65536, 1179646, 0, 65536, 1245182, 0, 65536, 1310718, 0, 65536, 1376254, 0, 65536, 1441790, 0, 65536, 1507326, 0, 65536, 1572862, 0, 65536, 1638398, 0, 65536, 1703934, 0, 65536, 1769470, 0, 65536, 1835006, 0, 65536, 1900542, 0, 65536, 1966078, 0, 65536, 2031614, 0, 65536, 2097150, 0, 65536, 2162686, 0, 65536, 2228222, 0, 65536, 2293758, 0, 65536, 2359294, 0, 65536, 2424830, 0, 65536, 2490366, 0, 65536, 2555902, 0, 65536, 2621438, 0, 65536, 2686974, 0, 65536, 2752510, 0, 65536, 2818046, 0, 65536, 2883582, 0, 65536, 2949118, 0, 65536, 3014654, 0, 65536, 3080190, 0, 65536, 3145726, 0, 65536, 3211262, 0, 65536, 3276798, 0, 65536, 3342334, 0, 65536, 3407870, 0, 65536, 3473406, 0, 65536, 3538942, 0, 65536, 3604478, 0, 65536, 3670014, 0, 65536, 3735550, 0, 65536, 3801086, 0, 65536, 3866622, 0, 65536, 3932158, 0, 65536, 3997694, 0, 65536, 4063230, 0, 65536, 4128766, 0, 65536, 4194302, 0, 65536, 4259838, 0, 65536, 4325374, 0, 65536, 4325375, 0, 65536, 4259840, 0, 65536, 4259841, 0, 65536, 4259842, 0, 65536, 4259843, 0, 65536, 4259844, 0, 65536, 4259845, 0, 65536, 4259846, 0, 65536, 4259847, 0, 65536, 4259848, 0, 65536, 4259849, 0, 65536, 4259850, 0, 65536, 4259851, 0, 65536, 4259852, 0, 65536, 4259853, 0, 65536, 4259854, 0, 65536, 4259855, 0, 65536, 4259856, 0, 65536, 4259857, 0, 65536, 4259858, 0, 65536, 4259859, 0, 65536, 4259860, 0, 65536, 4259861, 0, 65536, 4259862, 0, 65536, 4259863, 0, 65536, 4259864, 0, 65536, 4259865, 0, 65536, 4259866, 0, 65536, 4259867, 0, 65536, 4259868, 0, 65536, 4259869, 0, 65536, 4259870, 0, 65536, 4259871, 0, 65536, 4259872, 0, 65536, 4259873, 0, 65536, 4259874, 0, 65536, 4259875, 0, 65536, 4259876, 0, 65536, 4259877, 0, 65536, 4259878, 0, 65536, 4259879, 0, 65536, 4259880, 0, 65536, 4259881, 0, 65536, 4259882, 0, 65536, 4259883, 0, 65536, 4259884, 0, 65536, 4259885, 0, 65536, 4259886, 0, 65536, 4259887, 0, 65536, 4259888, 0, 65536, 4259889, 0, 65536, 4259890, 0, 65536, 4259891, 0, 65536, 4259892, 0, 65536, 4259893, 0, 65536, 4259894, 0, 65536, 4259895, 0, 65536, 4259896, 0, 65536, 4259897, 0, 65536, 4259898, 0, 65536, 4259899, 0, 65536, 4259900, 0, 65536, 4259901, 0, 65536, 4259902, 0, 65536, 4259903, 0, 65536, 4259904, 0, 65536, 4259905, 0, 65536, 327745, 0, 65536, 327744, 0, 65536, 327743, 0, 65536, 327742, 0, 65536, 327741, 0, 65536, 327740, 0, 65536, 327739, 0, 65536, 327738, 0, 65536, 327737, 0, 65536, 327736, 0, 65536, 327735, 0, 65536, 327734, 0, 65536, 327733, 0, 65536, 327732, 0, 65536, 327731, 0, 65536, 327730, 0, 65536, 327729, 0, 65536, 327728, 0, 65536, 327727, 0, 65536, 327726, 0, 65536, 327725, 0, 65536, 327724, 0, 65536, 327723, 0, 65536, 327722, 0, 65536, 327721, 0, 65536, 327720, 0, 65536, 327719, 0, 65536, 327718, 0, 65536, 327717, 0, 65536, 327716, 0, 65536, 327715, 0, 65536, 327714, 0, 65536, 327713, 0, 65536, 327712, 0, 65536, 327711, 0, 65536, 327710, 0, 65536, 327709, 0, 65536, 327708, 0, 65536, 327707, 0, 65536, 327706, 0, 65536, 327705, 0, 65536, 327704, 0, 65536, 327703, 0, 65536, 327702, 0, 65536, 327701, 0, 65536, 327700, 0, 65536, 327699, 0, 65536, 327698, 0, 65536, 327697, 0, 65536, 327696, 0, 65536, 327695, 0, 65536, 327694, 0, 65536, 327693, 0, 65536, 327692, 0, 65536, 327691, 0, 65536, 327690, 0, 65536, 327689, 0, 65536, 327688, 0, 65536, 327687, 0, 65536, 327686, 0, 65536, 327685, 0, 65536, 327684, 0, 65536, 327683, 0, 65536, 327682, 0, 65536, 327681, 0, 65536, 327680, 0, 65536, 393215, 0, 65536, 393214, 0, 65536)
script = ExtResource("8_anhii")

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.783523, 0.783523, 0.783523, 1)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="GameMenu" parent="CanvasLayer" instance=ExtResource("7_x7jl6")]

[node name="AudioStreamPlayerDarkness" type="AudioStreamPlayer" parent="."]
stream = ExtResource("8_eveyf")
volume_db = -10.0
bus = &"Background"

[connection signal="place_orb" from="Cursor" to="Orbs" method="_on_cursor_place_orb"]
